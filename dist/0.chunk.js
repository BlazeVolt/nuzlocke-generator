(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"./node_modules/@emmaramirez/dom-to-image/dist/dom-to-image.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@emmaramirez/dom-to-image/dist/dom-to-image.js ***!
  \*********************************************************************/
/*! exports provided: domToImage */function(e,t,n){"use strict";n.r(t),n.d(t,"domToImage",(function(){return a}));var r=function(){return{escape:function(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:t,mimeType:function(e){var n=t(e).toLowerCase();return(r="application/font-woff",{woff:r,woff2:r,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"})[n]||"";var r},dataAsUrl:function(e,t){return"data:"+t+";base64,"+e},isDataUrl:function(e){return-1!==e.search(/^(data:)/)},canvasToBlob:function(e){return e.toBlob?new Promise((function(t){e.toBlob(t)})):function(e){return new Promise((function(t){for(var n=window.atob(e.toDataURL().split(",")[1]),r=n.length,o=new Uint8Array(r),i=0;i<r;i++)o[i]=n.charCodeAt(i);t(new Blob([o],{type:"image/png"}))}))}(e)},resolveUrl:function(e,t){var n=document.implementation.createHTMLDocument(),r=n.createElement("base");n.head.appendChild(r);var o=n.createElement("a");return n.body.appendChild(o),r.href=t,o.href=e,o.href},getAndEncode:function(e){a.impl.options.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());return new Promise((function(t){var n,r=new XMLHttpRequest;if(r.onreadystatechange=function(){if(4!==r.readyState)return;if(r.status>=400)return void(n?t(n):f("cannot fetch resource: "+e+", status: "+r.status));var o=new FileReader;o.onloadend=function(){var e=o.result.split(/,/)[1];t(e)},o.readAsDataURL(r.response)},r.ontimeout=function(){n?t(n):f("timeout of 30000ms occured while fetching resource: "+e)},r.responseType="blob",r.timeout=3e4,0===e.indexOf("http")&&-1===e.indexOf(window.location.origin)&&a.impl.options.corsImg){var o=a.impl.options.corsImg.method||"GET";o="POST"===o.toUpperCase(o)?"POST":"GET";var i=a.impl.options.corsImg.url||"";i=i.replace("#{cors}",e);var u=a.impl.options.corsImg.data||"";try{u=JSON.parse(JSON.stringify(u))}catch(e){return void f("corsImg.data is not available")}Object.keys(u).forEach((function(t){"string"==typeof u[t]&&(u[t]=u[t].replace("#{cors}",e))})),r.open(o,i,!0);var c=!1,s=a.impl.options.corsImg.headers||{};Object.keys(s).forEach((function(e){-1!==s[e].indexOf("application/json")&&(c=!0),r.setRequestHeader(e,s[e])})),r.send(c?JSON.stringify(u):u)}else r.open("GET",e,!0),r.send();if(a.impl.options.imagePlaceholder){var l=a.impl.options.imagePlaceholder.split(/,/);l&&l[1]&&(n=l[1])}function f(e){console.error(e),t("")}}))},uid:(e=0,function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+e++}),delay:function(e){return function(t){return new Promise((function(n){setTimeout((function(){n(t)}),e)}))}},asArray:function(e){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t},escapeXhtml:function(e){return e.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src=e}))},width:function(e){var t=n(e,"border-left-width"),r=n(e,"border-right-width");return e.scrollWidth+t+r},height:function(e){var t=n(e,"border-top-width"),r=n(e,"border-bottom-width");return e.scrollHeight+t+r}};var e;function t(e){var t=/\.([^\.\/]*?)$/g.exec(e);return t?t[1]:""}function n(e,t){var n=window.getComputedStyle(e).getPropertyValue(t);return parseFloat(n.replace("px",""))}}(),o=function(){var e=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(e,r,i){return function(){return!t(e)}()?Promise.resolve(e):Promise.resolve(e).then(n).then((function(t){var n=Promise.resolve(e);return t.forEach((function(e){n=n.then((function(t){return o(t,e,r,i)}))})),n}))},shouldProcess:t,impl:{readUrls:n,inline:o}};function t(t){return-1!==t.search(e)}function n(t){for(var n,o=[];null!==(n=e.exec(t));)o.push(n[1]);return o.filter((function(e){return!r.isDataUrl(e)}))}function o(e,t,n,o){return Promise.resolve(t).then((function(e){return n?r.resolveUrl(e,n):e})).then(o||r.getAndEncode).then((function(e){return r.dataAsUrl(e,r.mimeType(t))})).then((function(n){return e.replace(function(e){return new RegExp("(url\\(['\"]?)("+r.escape(e)+")(['\"]?\\))","g")}(t),"$1"+n+"$3")}))}}(),i=function(){return{resolveAll:function(){return e(document).then((function(e){return Promise.all(e.map((function(e){return e.resolve()})))})).then((function(e){return e.join("\n")}))},impl:{readAll:e}};function e(){return Promise.resolve(r.asArray(document.styleSheets)).then((function(e){var t=[];return e.forEach((function(e){try{r.asArray(e.cssRules||[]).forEach(t.push.bind(t))}catch(t){console.log("Error while reading CSS rules from "+e.href,t.toString())}})),t})).then((function(e){return e.filter((function(e){return e.type===CSSRule.FONT_FACE_RULE})).filter((function(e){return o.shouldProcess(e.style.getPropertyValue("src"))}))})).then((function(t){return t.map(e)}));function e(e){return{resolve:function(){var t=(e.parentStyleSheet||{}).href;return o.inlineAll(e.cssText,t)},src:function(){return e.style.getPropertyValue("src")}}}}}(),u=function(){return{inlineAll:function t(n){return n instanceof Element?function(e){var t=e.style.getPropertyValue("background");return t?o.inlineAll(t).then((function(t){e.style.setProperty("background",t,e.style.getPropertyPriority("background"))})).then((function(){return e})):Promise.resolve(e)}(n).then((function(){return n instanceof HTMLImageElement?e(n).inline():Promise.all(r.asArray(n.childNodes).map((function(e){return t(e)})))})):Promise.resolve(n)},impl:{newImage:e}};function e(e){return{inline:function(t){return r.isDataUrl(e.src)?Promise.resolve():Promise.resolve(e.src).then(t||r.getAndEncode).then((function(t){return r.dataAsUrl(t,r.mimeType(e.src))})).then((function(t){return new Promise((function(n,r){e.onload=n,e.onerror=r,e.src=t}))}))}}}}(),c={imagePlaceholder:void 0,cacheBust:!1,corsImg:void 0},a={toSvg:s,toPng:function(e,t){return l(e,t||{}).then((function(e){return e.toDataURL()}))},toJpeg:function(e,t){return l(e,t=t||{}).then((function(e){return e.toDataURL("image/jpeg",t.quality||1)}))},toBlob:function(e,t){return l(e,t||{}).then(r.canvasToBlob)},toPixelData:function(e,t){return l(e,t||{}).then((function(t){return t.getContext("2d").getImageData(0,0,r.width(e),r.height(e)).data}))},impl:{fontFaces:i,images:u,util:r,inliner:o,options:{}}};function s(e,t){return function(e){void 0===e.imagePlaceholder?a.impl.options.imagePlaceholder=c.imagePlaceholder:a.impl.options.imagePlaceholder=e.imagePlaceholder;void 0===e.cacheBust?a.impl.options.cacheBust=c.cacheBust:a.impl.options.cacheBust=e.cacheBust;void 0===e.corsImg?a.impl.options.corsImg=c.corsImg:a.impl.options.corsImg=e.corsImg}(t=t||{}),Promise.resolve(e).then((function(e){return function e(t,n,o){return o||!n||n(t)?Promise.resolve(t).then((function(e){return e instanceof HTMLCanvasElement?r.makeImage(e.toDataURL()):e.cloneNode(!1)})).then((function(e){return i(t,e,n)})).then((function(e){return function(e,t){return t instanceof Element?Promise.resolve().then(n).then(o).then(i).then(u).then((function(){return t})):t;function n(){!function(e,t){e.cssText?t.cssText=e.cssText:function(e,t){r.asArray(e).forEach((function(n){t.setProperty(n,e.getPropertyValue(n),e.getPropertyPriority(n))}))}(e,t);t.fontStretch="normal"}(window.getComputedStyle(e),t.style)}function o(){[":before",":after"].forEach((function(n){!function(n){var o=window.getComputedStyle(e,n),i=o.getPropertyValue("content");if(""===i||"none"===i)return;var u=r.uid();t.className=t.className+" "+u;var c=document.createElement("style");c.appendChild(function(e,t,n){var o="."+e+":"+t,i=n.cssText?function(e){var t=e.getPropertyValue("content");return e.cssText+" content: "+t+";"}(n):function(e){return r.asArray(e).map((function(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")})).join("; ")+";"}(n);return document.createTextNode(o+"{"+i+"}")}(u,n,o)),t.appendChild(c)}(n)}))}function i(){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}function u(){t instanceof SVGElement&&(t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t instanceof SVGRectElement&&["width","height"].forEach((function(e){var n=t.getAttribute(e);n&&t.style.setProperty(e,n)})))}}(t,e)})):Promise.resolve();function i(t,n,o){var i=t.childNodes;return 0===i.length?Promise.resolve(n):u(n,r.asArray(i),o).then((function(){return n}));function u(t,n,r){var o=Promise.resolve();return n.forEach((function(n){o=o.then((function(){return e(n,r)})).then((function(e){e&&t.appendChild(e)}))})),o}}}(e,t.filter,!0)})).then(f).then(h).then((function(e){t.bgcolor&&(e.style.backgroundColor=t.bgcolor);t.width&&(e.style.width=t.width+"px");t.height&&(e.style.height=t.height+"px");t.style&&Object.keys(t.style).forEach((function(n){e.style[n]=t.style[n]}));return e})).then((function(n){return function(e,t,n){return Promise.resolve(e).then((function(e){return e.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(e)})).then(r.escapeXhtml).then((function(e){return'<foreignObject x="0" y="0" width="100%" height="100%">'+e+"</foreignObject>"})).then((function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+n+'">'+e+"</svg>"})).then((function(e){return"data:image/svg+xml;charset=utf-8,"+e}))}(n,t.width||r.width(e),t.height||r.height(e))}))}function l(e,t){return s(e,t).then(r.makeImage).then(r.delay(100)).then((function(n){var o=function(e){var n=document.createElement("canvas");if(n.width=t.width||r.width(e),n.height=t.height||r.height(e),t.bgcolor){var o=n.getContext("2d");o.fillStyle=t.bgcolor,o.fillRect(0,0,n.width,n.height)}return n}(e);return o.getContext("2d").drawImage(n,0,0),o}))}function f(e){return i.resolveAll().then((function(t){var n=document.createElement("style");return e.appendChild(n),n.appendChild(document.createTextNode(t)),e}))}function h(e){return u.inlineAll(e).then((function(){return e}))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGVtbWFyYW1pcmV6L2RvbS10by1pbWFnZS9kaXN0L2RvbS10by1pbWFnZS5qcyJdLCJuYW1lcyI6WyJ1dGlsIiwiZXNjYXBlIiwic3RyaW5nIiwicmVwbGFjZSIsInBhcnNlRXh0ZW5zaW9uIiwibWltZVR5cGUiLCJ1cmwiLCJleHRlbnNpb24iLCJ0b0xvd2VyQ2FzZSIsIldPRkYiLCJ3b2ZmIiwid29mZjIiLCJ0dGYiLCJlb3QiLCJwbmciLCJqcGciLCJqcGVnIiwiZ2lmIiwidGlmZiIsInN2ZyIsImRhdGFBc1VybCIsImNvbnRlbnQiLCJ0eXBlIiwiaXNEYXRhVXJsIiwic2VhcmNoIiwiY2FudmFzVG9CbG9iIiwiY2FudmFzIiwidG9CbG9iIiwiUHJvbWlzZSIsInJlc29sdmUiLCJiaW5hcnlTdHJpbmciLCJ3aW5kb3ciLCJhdG9iIiwidG9EYXRhVVJMIiwic3BsaXQiLCJsZW5ndGgiLCJiaW5hcnlBcnJheSIsIlVpbnQ4QXJyYXkiLCJpIiwiY2hhckNvZGVBdCIsIkJsb2IiLCJyZXNvbHZlVXJsIiwiYmFzZVVybCIsImRvYyIsImRvY3VtZW50IiwiaW1wbGVtZW50YXRpb24iLCJjcmVhdGVIVE1MRG9jdW1lbnQiLCJiYXNlIiwiY3JlYXRlRWxlbWVudCIsImhlYWQiLCJhcHBlbmRDaGlsZCIsImEiLCJib2R5IiwiaHJlZiIsImdldEFuZEVuY29kZSIsImRvbXRvaW1hZ2UiLCJpbXBsIiwib3B0aW9ucyIsImNhY2hlQnVzdCIsInRlc3QiLCJEYXRlIiwiZ2V0VGltZSIsInBsYWNlaG9sZGVyIiwicmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsImZhaWwiLCJlbmNvZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZGVuZCIsInJlc3VsdCIsInJlYWRBc0RhdGFVUkwiLCJyZXNwb25zZSIsIm9udGltZW91dCIsInJlc3BvbnNlVHlwZSIsInRpbWVvdXQiLCJpbmRleE9mIiwibG9jYXRpb24iLCJvcmlnaW4iLCJjb3JzSW1nIiwibWV0aG9kIiwidG9VcHBlckNhc2UiLCJyZXFVcmwiLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwiZSIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5Iiwib3BlbiIsImlzSnNvbiIsImhlYWRlcnMiLCJzZXRSZXF1ZXN0SGVhZGVyIiwic2VuZCIsImltYWdlUGxhY2Vob2xkZXIiLCJtZXNzYWdlIiwiY29uc29sZSIsImVycm9yIiwidWlkIiwiaW5kZXgiLCJNYXRoIiwicmFuZG9tIiwicG93IiwidG9TdHJpbmciLCJzbGljZSIsImRlbGF5IiwibXMiLCJhcmciLCJzZXRUaW1lb3V0IiwiYXNBcnJheSIsImFycmF5TGlrZSIsImFycmF5IiwicHVzaCIsImVzY2FwZVhodG1sIiwibWFrZUltYWdlIiwidXJpIiwicmVqZWN0IiwiaW1hZ2UiLCJJbWFnZSIsIm9ubG9hZCIsIm9uZXJyb3IiLCJzcmMiLCJ3aWR0aCIsIm5vZGUiLCJsZWZ0Qm9yZGVyIiwicHgiLCJyaWdodEJvcmRlciIsInNjcm9sbFdpZHRoIiwiaGVpZ2h0IiwidG9wQm9yZGVyIiwiYm90dG9tQm9yZGVyIiwic2Nyb2xsSGVpZ2h0IiwibWF0Y2giLCJleGVjIiwic3R5bGVQcm9wZXJ0eSIsInZhbHVlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJwYXJzZUZsb2F0IiwibmV3VXRpbCIsImlubGluZXIiLCJVUkxfUkVHRVgiLCJpbmxpbmVBbGwiLCJnZXQiLCJzaG91bGRQcm9jZXNzIiwibm90aGluZ1RvSW5saW5lIiwidGhlbiIsInJlYWRVcmxzIiwidXJscyIsImRvbmUiLCJpbmxpbmUiLCJmaWx0ZXIiLCJzdHIiLCJkYXRhVXJsIiwiUmVnRXhwIiwidXJsQXNSZWdleCIsIm5ld0lubGluZXIiLCJmb250RmFjZXMiLCJyZXNvbHZlQWxsIiwicmVhZEFsbCIsIndlYkZvbnRzIiwiYWxsIiwibWFwIiwid2ViRm9udCIsImNzc1N0cmluZ3MiLCJqb2luIiwic3R5bGVTaGVldHMiLCJjc3NSdWxlcyIsInNoZWV0IiwiYmluZCIsImxvZyIsInJ1bGUiLCJDU1NSdWxlIiwiRk9OVF9GQUNFX1JVTEUiLCJzdHlsZSIsInJ1bGVzIiwibmV3V2ViRm9udCIsIndlYkZvbnRSdWxlIiwicGFyZW50U3R5bGVTaGVldCIsImNzc1RleHQiLCJuZXdGb250RmFjZXMiLCJpbWFnZXMiLCJFbGVtZW50IiwiYmFja2dyb3VuZCIsImlubGluZWQiLCJzZXRQcm9wZXJ0eSIsImdldFByb3BlcnR5UHJpb3JpdHkiLCJpbmxpbmVCYWNrZ3JvdW5kIiwiSFRNTEltYWdlRWxlbWVudCIsIm5ld0ltYWdlIiwiY2hpbGROb2RlcyIsImNoaWxkIiwiZWxlbWVudCIsIm5ld0ltYWdlcyIsImRlZmF1bHRPcHRpb25zIiwidW5kZWZpbmVkIiwidG9TdmciLCJ0b1BuZyIsImRyYXciLCJ0b0pwZWciLCJxdWFsaXR5IiwidG9QaXhlbERhdGEiLCJnZXRDb250ZXh0IiwiZ2V0SW1hZ2VEYXRhIiwiY29weU9wdGlvbnMiLCJjbG9uZU5vZGUiLCJyb290IiwiSFRNTENhbnZhc0VsZW1lbnQiLCJjbG9uZSIsImNsb25lQ2hpbGRyZW4iLCJvcmlnaW5hbCIsImNsb25lU3R5bGUiLCJjbG9uZVBzZXVkb0VsZW1lbnRzIiwiY29weVVzZXJJbnB1dCIsImZpeFN2ZyIsInNvdXJjZSIsInRhcmdldCIsIm5hbWUiLCJjb3B5UHJvcGVydGllcyIsImZvbnRTdHJldGNoIiwiY29weVN0eWxlIiwiY2xhc3NOYW1lIiwic3R5bGVFbGVtZW50Iiwic2VsZWN0b3IiLCJmb3JtYXRDc3NUZXh0IiwiZm9ybWF0Q3NzUHJvcGVydGllcyIsImNyZWF0ZVRleHROb2RlIiwiZm9ybWF0UHNldWRvRWxlbWVudFN0eWxlIiwiY2xvbmVQc2V1ZG9FbGVtZW50IiwiSFRNTFRleHRBcmVhRWxlbWVudCIsImlubmVySFRNTCIsIkhUTUxJbnB1dEVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJTVkdFbGVtZW50IiwiU1ZHUmVjdEVsZW1lbnQiLCJhdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGUiLCJwcm9jZXNzQ2xvbmUiLCJjaGlsZHJlbiIsImNsb25lQ2hpbGRyZW5Jbk9yZGVyIiwicGFyZW50IiwiY2hpbGRDbG9uZSIsImVtYmVkRm9udHMiLCJpbmxpbmVJbWFnZXMiLCJiZ2NvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwicHJvcGVydHkiLCJYTUxTZXJpYWxpemVyIiwic2VyaWFsaXplVG9TdHJpbmciLCJ4aHRtbCIsImZvcmVpZ25PYmplY3QiLCJtYWtlU3ZnRGF0YVVyaSIsImRvbU5vZGUiLCJjdHgiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsIm5ld0NhbnZhcyIsImRyYXdJbWFnZSIsInN0eWxlTm9kZSJdLCJtYXBwaW5ncyI6Ijs7OztnRUFBQSxzREFBSUEsRUFvVUosV0FDSSxNQUFPLENBQ0hDLE9Bc01KLFNBQWdCQyxHQUNaLE9BQU9BLEVBQU9DLFFBQVEsMkJBQTRCLFNBdE1sREMsZUFBZ0JBLEVBQ2hCQyxTQXlDSixTQUFrQkMsR0FDZCxJQUFJQyxFQUFZSCxFQUFlRSxHQUFLRSxjQUNwQyxPQXhCSUMsRUFBTyx3QkFFSixDQUNIQyxLQUFNRCxFQUNORSxNQUFPRixFQUNQRyxJQUFLLDRCQUNMQyxJQUFLLGdDQUNMQyxJQUFLLFlBQ0xDLElBUE8sYUFRUEMsS0FSTyxhQVNQQyxJQUFLLFlBQ0xDLEtBQU0sYUFDTkMsSUFBSyxrQkFZTVosSUFBYyxHQTdCakMsSUFLUUUsR0FsQkpXLFVBZ01KLFNBQW1CQyxFQUFTQyxHQUN4QixNQUFPLFFBQVVBLEVBQU8sV0FBYUQsR0FoTXJDRSxVQTJDSixTQUFtQmpCLEdBQ2YsT0FBbUMsSUFBNUJBLEVBQUlrQixPQUFPLGFBM0NsQkMsYUEwREosU0FBc0JDLEdBQ2xCLE9BQUlBLEVBQU9DLE9BQ0EsSUFBSUMsU0FBUSxTQUFVQyxHQUN6QkgsRUFBT0MsT0FBT0UsTUFoQjFCLFNBQWdCSCxHQUNaLE9BQU8sSUFBSUUsU0FBUSxTQUFV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LE9BREF2TyxFQUFPcUwsV0FBVyxNQUFNdUQsVUFBVTVJLEVBQU8sRUFBRyxHQUNyQ2hHLEtBa0pmLFNBQVM2TixFQUFXdkgsR0FDaEIsT0FBT2tDLEVBQVVDLGFBQWFaLE1BQUssU0FBVWlDLEdBQ3pDLElBQUkrRSxFQUFZM04sU0FBU0ksY0FBYyxTQUd2QyxPQUZBZ0YsRUFBSzlFLFlBQVlxTixHQUNqQkEsRUFBVXJOLFlBQVlOLFNBQVMyTCxlQUFlL0MsSUFDdkN4RCxLQUdmLFNBQVN3SCxFQUFheEgsR0FDbEIsT0FBTzBELEVBQU92QyxVQUFVbkIsR0FBTXVCLE1BQUssV0FDL0IsT0FBT3ZCIiwiZmlsZSI6IjAuY2h1bmsuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdXRpbCA9IG5ld1V0aWwoKTtcclxudmFyIGlubGluZXIgPSBuZXdJbmxpbmVyKCk7XHJcbnZhciBmb250RmFjZXMgPSBuZXdGb250RmFjZXMoKTtcclxudmFyIGltYWdlcyA9IG5ld0ltYWdlcygpO1xyXG4vLyBEZWZhdWx0IGltcGwgb3B0aW9uc1xyXG52YXIgZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgICAvLyBEZWZhdWx0IGlzIHRvIGZhaWwgb24gZXJyb3IsIG5vIHBsYWNlaG9sZGVyXHJcbiAgICBpbWFnZVBsYWNlaG9sZGVyOiB1bmRlZmluZWQsXHJcbiAgICAvLyBEZWZhdWx0IGNhY2hlIGJ1c3QgaXMgZmFsc2UsIGl0IHdpbGwgdXNlIHRoZSBjYWNoZVxyXG4gICAgY2FjaGVCdXN0OiBmYWxzZSxcclxuICAgIGNvcnNJbWc6IHVuZGVmaW5lZCxcclxufTtcclxudmFyIGRvbXRvaW1hZ2UgPSB7XHJcbiAgICB0b1N2ZzogdG9TdmcsXHJcbiAgICB0b1BuZzogdG9QbmcsXHJcbiAgICB0b0pwZWc6IHRvSnBlZyxcclxuICAgIHRvQmxvYjogdG9CbG9iLFxyXG4gICAgdG9QaXhlbERhdGE6IHRvUGl4ZWxEYXRhLFxyXG4gICAgaW1wbDoge1xyXG4gICAgICAgIGZvbnRGYWNlczogZm9udEZhY2VzLFxyXG4gICAgICAgIGltYWdlczogaW1hZ2VzLFxyXG4gICAgICAgIHV0aWw6IHV0aWwsXHJcbiAgICAgICAgaW5saW5lcjogaW5saW5lcixcclxuICAgICAgICBvcHRpb25zOiB7fSxcclxuICAgIH0sXHJcbn07XHJcbi8qKlxyXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgLSBUaGUgRE9NIE5vZGUgb2JqZWN0IHRvIHJlbmRlclxyXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFJlbmRlcmluZyBvcHRpb25zXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9wdGlvbnMuZmlsdGVyIC0gU2hvdWxkIHJldHVybiB0cnVlIGlmIHBhc3NlZCBub2RlIHNob3VsZCBiZSBpbmNsdWRlZCBpbiB0aGUgb3V0cHV0XHJcbiAqICAgICAgICAgIChleGNsdWRpbmcgbm9kZSBtZWFucyBleGNsdWRpbmcgaXQncyBjaGlsZHJlbiBhcyB3ZWxsKS4gTm90IGNhbGxlZCBvbiB0aGUgcm9vdCBub2RlLlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5iZ2NvbG9yIC0gY29sb3IgZm9yIHRoZSBiYWNrZ3JvdW5kLCBhbnkgdmFsaWQgQ1NTIGNvbG9yIHZhbHVlLlxyXG4gKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy53aWR0aCAtIHdpZHRoIHRvIGJlIGFwcGxpZWQgdG8gbm9kZSBiZWZvcmUgcmVuZGVyaW5nLlxyXG4gKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5oZWlnaHQgLSBoZWlnaHQgdG8gYmUgYXBwbGllZCB0byBub2RlIGJlZm9yZSByZW5kZXJpbmcuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnN0eWxlIC0gYW4gb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgdG8gYmUgY29waWVkIHRvIG5vZGUncyBzdHlsZSBiZWZvcmUgcmVuZGVyaW5nLlxyXG4gKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5xdWFsaXR5IC0gYSBOdW1iZXIgYmV0d2VlbiAwIGFuZCAxIGluZGljYXRpbmcgaW1hZ2UgcXVhbGl0eSAoYXBwbGljYWJsZSB0byBKUEVHIG9ubHkpLFxyXG4gICAgICAgICAgICBkZWZhdWx0cyB0byAxLjAuXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLmltYWdlUGxhY2Vob2xkZXIgLSBkYXRhVVJMIHRvIHVzZSBhcyBhIHBsYWNlaG9sZGVyIGZvciBmYWlsZWQgaW1hZ2VzLCBkZWZhdWx0IGJlaGF2aW91ciBpcyB0byBmYWlsIGZhc3Qgb24gaW1hZ2VzIHdlIGNhbid0IGZldGNoXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy5jYWNoZUJ1c3QgLSBzZXQgdG8gdHJ1ZSB0byBjYWNoZSBidXN0IGJ5IGFwcGVuZGluZyB0aGUgdGltZSB0byB0aGUgcmVxdWVzdCB1cmxcclxuICogQHJldHVybiB7UHJvbWlzZX0gLSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2l0aCBhIFNWRyBpbWFnZSBkYXRhIFVSTFxyXG4gKiAqL1xyXG5mdW5jdGlvbiB0b1N2Zyhub2RlLCBvcHRpb25zKSB7XHJcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuICAgIGNvcHlPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShub2RlKVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIGNsb25lTm9kZShub2RlLCBvcHRpb25zLmZpbHRlciwgdHJ1ZSk7XHJcbiAgICB9KVxyXG4gICAgICAgIC50aGVuKGVtYmVkRm9udHMpXHJcbiAgICAgICAgLnRoZW4oaW5saW5lSW1hZ2VzKVxyXG4gICAgICAgIC50aGVuKGFwcGx5T3B0aW9ucylcclxuICAgICAgICAudGhlbihmdW5jdGlvbiAoY2xvbmUpIHtcclxuICAgICAgICByZXR1cm4gbWFrZVN2Z0RhdGFVcmkoY2xvbmUsIG9wdGlvbnMud2lkdGggfHwgdXRpbC53aWR0aChub2RlKSwgb3B0aW9ucy5oZWlnaHQgfHwgdXRpbC5oZWlnaHQobm9kZSkpO1xyXG4gICAgfSk7XHJcbiAgICBmdW5jdGlvbiBhcHBseU9wdGlvbnMoY2xvbmUpIHtcclxuICAgICAgICBpZiAob3B0aW9ucy5iZ2NvbG9yKVxyXG4gICAgICAgICAgICBjbG9uZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBvcHRpb25zLmJnY29sb3I7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMud2lkdGgpXHJcbiAgICAgICAgICAgIGNsb25lLnN0eWxlLndpZHRoID0gb3B0aW9ucy53aWR0aCArICdweCc7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaGVpZ2h0KVxyXG4gICAgICAgICAgICBjbG9uZS5zdHlsZS5oZWlnaHQgPSBvcHRpb25zLmhlaWdodCArICdweCc7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuc3R5bGUpXHJcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG9wdGlvbnMuc3R5bGUpLmZvckVhY2goZnVuY3Rpb24gKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICBjbG9uZS5zdHlsZVtwcm9wZXJ0eV0gPSBvcHRpb25zLnN0eWxlW3Byb3BlcnR5XTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGNsb25lO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgLSBUaGUgRE9NIE5vZGUgb2JqZWN0IHRvIHJlbmRlclxyXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFJlbmRlcmluZyBvcHRpb25zLCBAc2VlIHtAbGluayB0b1N2Z31cclxuICogQHJldHVybiB7UHJvbWlzZX0gLSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2l0aCBhIFVpbnQ4QXJyYXkgY29udGFpbmluZyBSR0JBIHBpeGVsIGRhdGEuXHJcbiAqICovXHJcbmZ1bmN0aW9uIHRvUGl4ZWxEYXRhKG5vZGUsIG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBkcmF3KG5vZGUsIG9wdGlvbnMgfHwge30pLnRoZW4oZnVuY3Rpb24gKGNhbnZhcykge1xyXG4gICAgICAgIHJldHVybiBjYW52YXNcclxuICAgICAgICAgICAgLmdldENvbnRleHQoJzJkJylcclxuICAgICAgICAgICAgLmdldEltYWdlRGF0YSgwLCAwLCB1dGlsLndpZHRoKG5vZGUpLCB1dGlsLmhlaWdodChub2RlKSkuZGF0YTtcclxuICAgIH0pO1xyXG59XHJcbi8qKlxyXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgLSBUaGUgRE9NIE5vZGUgb2JqZWN0IHRvIHJlbmRlclxyXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFJlbmRlcmluZyBvcHRpb25zLCBAc2VlIHtAbGluayB0b1N2Z31cclxuICogQHJldHVybiB7UHJvbWlzZX0gLSBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2l0aCBhIFBORyBpbWFnZSBkYXRhIFVSTFxyXG4gKiAqL1xyXG5mdW5jdGlvbiB0b1BuZyhub2RlLCBvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gZHJhdyhub2RlLCBvcHRpb25zIHx8IHt9KS50aGVuKGZ1bmN0aW9uIChjYW52YXMpIHtcclxuICAgICAgICByZXR1cm4gY2FudmFzLnRvRGF0YVVSTCgpO1xyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSAtIFRoZSBET00gTm9kZSBvYmplY3QgdG8gcmVuZGVyXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gUmVuZGVyaW5nIG9wdGlvbnMsIEBzZWUge0BsaW5rIHRvU3ZnfVxyXG4gKiBAcmV0dXJuIHtQcm9taXNlfSAtIEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aXRoIGEgSlBFRyBpbWFnZSBkYXRhIFVSTFxyXG4gKiAqL1xyXG5mdW5jdGlvbiB0b0pwZWcobm9kZSwgb3B0aW9ucykge1xyXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcbiAgICByZXR1cm4gZHJhdyhub2RlLCBvcHRpb25zKS50aGVuKGZ1bmN0aW9uIChjYW52YXMpIHtcclxuICAgICAgICByZXR1cm4gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvanBlZycsIG9wdGlvbnMucXVhbGl0eSB8fCAxLjApO1xyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSAtIFRoZSBET00gTm9kZSBvYmplY3QgdG8gcmVuZGVyXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gUmVuZGVyaW5nIG9wdGlvbnMsIEBzZWUge0BsaW5rIHRvU3ZnfVxyXG4gKiBAcmV0dXJuIHtQcm9taXNlfSAtIEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aXRoIGEgUE5HIGltYWdlIGJsb2JcclxuICogKi9cclxuZnVuY3Rpb24gdG9CbG9iKG5vZGUsIG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBkcmF3KG5vZGUsIG9wdGlvbnMgfHwge30pLnRoZW4odXRpbC5jYW52YXNUb0Jsb2IpO1xyXG59XHJcbmZ1bmN0aW9uIGNvcHlPcHRpb25zKG9wdGlvbnMpIHtcclxuICAgIC8vIENvcHkgb3B0aW9ucyB0byBpbXBsIG9wdGlvbnMgZm9yIHVzZSBpbiBpbXBsXHJcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuaW1hZ2VQbGFjZWhvbGRlciA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBkb210b2ltYWdlLmltcGwub3B0aW9ucy5pbWFnZVBsYWNlaG9sZGVyID0gZGVmYXVsdE9wdGlvbnMuaW1hZ2VQbGFjZWhvbGRlcjtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGRvbXRvaW1hZ2UuaW1wbC5vcHRpb25zLmltYWdlUGxhY2Vob2xkZXIgPSBvcHRpb25zLmltYWdlUGxhY2Vob2xkZXI7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuY2FjaGVCdXN0ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGRvbXRvaW1hZ2UuaW1wbC5vcHRpb25zLmNhY2hlQnVzdCA9IGRlZmF1bHRPcHRpb25zLmNhY2hlQnVzdDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGRvbXRvaW1hZ2UuaW1wbC5vcHRpb25zLmNhY2hlQnVzdCA9IG9wdGlvbnMuY2FjaGVCdXN0O1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiAob3B0aW9ucy5jb3JzSW1nKSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBkb210b2ltYWdlLmltcGwub3B0aW9ucy5jb3JzSW1nID0gZGVmYXVsdE9wdGlvbnMuY29yc0ltZztcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGRvbXRvaW1hZ2UuaW1wbC5vcHRpb25zLmNvcnNJbWcgPSBvcHRpb25zLmNvcnNJbWc7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZHJhdyhkb21Ob2RlLCBvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gdG9TdmcoZG9tTm9kZSwgb3B0aW9ucylcclxuICAgICAgICAudGhlbih1dGlsLm1ha2VJbWFnZSlcclxuICAgICAgICAudGhlbih1dGlsLmRlbGF5KDEwMCkpXHJcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGltYWdlKSB7XHJcbiAgICAgICAgdmFyIGNhbnZhcyA9IG5ld0NhbnZhcyhkb21Ob2RlKTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgY2FudmFzLmdldENvbnRleHQoJzJkJykuZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcclxuICAgICAgICByZXR1cm4gY2FudmFzO1xyXG4gICAgfSk7XHJcbiAgICBmdW5jdGlvbiBuZXdDYW52YXMoZG9tTm9kZSkge1xyXG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICBjYW52YXMud2lkdGggPSBvcHRpb25zLndpZHRoIHx8IHV0aWwud2lkdGgoZG9tTm9kZSk7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0IHx8IHV0aWwuaGVpZ2h0KGRvbU5vZGUpO1xyXG4gICAgICAgIGlmIChvcHRpb25zLmJnY29sb3IpIHtcclxuICAgICAgICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBvcHRpb25zLmJnY29sb3I7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjYW52YXM7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY2xvbmVOb2RlKG5vZGUsIGZpbHRlciwgcm9vdCkge1xyXG4gICAgaWYgKCFyb290ICYmIGZpbHRlciAmJiAhZmlsdGVyKG5vZGUpKVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobm9kZSlcclxuICAgICAgICAudGhlbihtYWtlTm9kZUNvcHkpXHJcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGNsb25lKSB7XHJcbiAgICAgICAgcmV0dXJuIGNsb25lQ2hpbGRyZW4obm9kZSwgY2xvbmUsIGZpbHRlcik7XHJcbiAgICB9KVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChjbG9uZSkge1xyXG4gICAgICAgIHJldHVybiBwcm9jZXNzQ2xvbmUobm9kZSwgY2xvbmUpO1xyXG4gICAgfSk7XHJcbiAgICBmdW5jdGlvbiBtYWtlTm9kZUNvcHkobm9kZSkge1xyXG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpXHJcbiAgICAgICAgICAgIHJldHVybiB1dGlsLm1ha2VJbWFnZShub2RlLnRvRGF0YVVSTCgpKTtcclxuICAgICAgICByZXR1cm4gbm9kZS5jbG9uZU5vZGUoZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY2xvbmVDaGlsZHJlbihvcmlnaW5hbCwgY2xvbmUsIGZpbHRlcikge1xyXG4gICAgICAgIHZhciBjaGlsZHJlbiA9IG9yaWdpbmFsLmNoaWxkTm9kZXM7XHJcbiAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjbG9uZSk7XHJcbiAgICAgICAgcmV0dXJuIGNsb25lQ2hpbGRyZW5Jbk9yZGVyKGNsb25lLCB1dGlsLmFzQXJyYXkoY2hpbGRyZW4pLCBmaWx0ZXIpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2xvbmU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZnVuY3Rpb24gY2xvbmVDaGlsZHJlbkluT3JkZXIocGFyZW50LCBjaGlsZHJlbiwgZmlsdGVyKSB7XHJcbiAgICAgICAgICAgIHZhciBkb25lID0gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBkb25lID0gZG9uZVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsb25lTm9kZShjaGlsZCwgZmlsdGVyKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGNoaWxkQ2xvbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRDbG9uZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGNoaWxkQ2xvbmUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gZG9uZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwcm9jZXNzQ2xvbmUob3JpZ2luYWwsIGNsb25lKSB7XHJcbiAgICAgICAgaWYgKCEoY2xvbmUgaW5zdGFuY2VvZiBFbGVtZW50KSlcclxuICAgICAgICAgICAgcmV0dXJuIGNsb25lO1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxyXG4gICAgICAgICAgICAudGhlbihjbG9uZVN0eWxlKVxyXG4gICAgICAgICAgICAudGhlbihjbG9uZVBzZXVkb0VsZW1lbnRzKVxyXG4gICAgICAgICAgICAudGhlbihjb3B5VXNlcklucHV0KVxyXG4gICAgICAgICAgICAudGhlbihmaXhTdmcpXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNsb25lO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNsb25lU3R5bGUoKSB7XHJcbiAgICAgICAgICAgIGNvcHlTdHlsZSh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShvcmlnaW5hbCksIGNsb25lLnN0eWxlKTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gY29weVN0eWxlKHNvdXJjZSwgdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlLmNzc1RleHQpXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmNzc1RleHQgPSBzb3VyY2UuY3NzVGV4dDtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBjb3B5UHJvcGVydGllcyhzb3VyY2UsIHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuZm9udFN0cmV0Y2ggPSAnbm9ybWFsJztcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNvcHlQcm9wZXJ0aWVzKHNvdXJjZSwgdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbC5hc0FycmF5KHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQuc2V0UHJvcGVydHkobmFtZSwgc291cmNlLmdldFByb3BlcnR5VmFsdWUobmFtZSksIHNvdXJjZS5nZXRQcm9wZXJ0eVByaW9yaXR5KG5hbWUpKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBjbG9uZVBzZXVkb0VsZW1lbnRzKCkge1xyXG4gICAgICAgICAgICBbJzpiZWZvcmUnLCAnOmFmdGVyJ10uZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgY2xvbmVQc2V1ZG9FbGVtZW50KGVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gY2xvbmVQc2V1ZG9FbGVtZW50KGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG9yaWdpbmFsLCBlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnY29udGVudCcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQgPT09ICcnIHx8IGNvbnRlbnQgPT09ICdub25lJylcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gdXRpbC51aWQoKTtcclxuICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpwcmVmZXItdGVtcGxhdGVcclxuICAgICAgICAgICAgICAgIGNsb25lLmNsYXNzTmFtZSA9IGNsb25lLmNsYXNzTmFtZSArICcgJyArIGNsYXNzTmFtZTtcclxuICAgICAgICAgICAgICAgIHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xyXG4gICAgICAgICAgICAgICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGZvcm1hdFBzZXVkb0VsZW1lbnRTdHlsZShjbGFzc05hbWUsIGVsZW1lbnQsIHN0eWxlKSk7XHJcbiAgICAgICAgICAgICAgICBjbG9uZS5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZm9ybWF0UHNldWRvRWxlbWVudFN0eWxlKGNsYXNzTmFtZSwgZWxlbWVudCwgc3R5bGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6cHJlZmVyLXRlbXBsYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gJy4nICsgY2xhc3NOYW1lICsgJzonICsgZWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3NzVGV4dCA9IHN0eWxlLmNzc1RleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBmb3JtYXRDc3NUZXh0KHN0eWxlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGZvcm1hdENzc1Byb3BlcnRpZXMoc3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzZWxlY3RvciArICd7JyArIGNzc1RleHQgKyAnfScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGZvcm1hdENzc1RleHQoc3R5bGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdjb250ZW50Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpwcmVmZXItdGVtcGxhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0eWxlLmNzc1RleHQgKyAnIGNvbnRlbnQ6ICcgKyBjb250ZW50ICsgJzsnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBmb3JtYXRDc3NQcm9wZXJ0aWVzKHN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAodXRpbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFzQXJyYXkoc3R5bGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZvcm1hdFByb3BlcnR5KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oJzsgJykgKyAnOycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6cHJlZmVyLXRlbXBsYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG5hbWUgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc6ICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlLmdldFByb3BlcnR5VmFsdWUobmFtZSkgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdHlsZS5nZXRQcm9wZXJ0eVByaW9yaXR5KG5hbWUpID8gJyAhaW1wb3J0YW50JyA6ICcnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gY29weVVzZXJJbnB1dCgpIHtcclxuICAgICAgICAgICAgaWYgKG9yaWdpbmFsIGluc3RhbmNlb2YgSFRNTFRleHRBcmVhRWxlbWVudClcclxuICAgICAgICAgICAgICAgIGNsb25lLmlubmVySFRNTCA9IG9yaWdpbmFsLnZhbHVlO1xyXG4gICAgICAgICAgICBpZiAob3JpZ2luYWwgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KVxyXG4gICAgICAgICAgICAgICAgY2xvbmUuc2V0QXR0cmlidXRlKCd2YWx1ZScsIG9yaWdpbmFsLnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZml4U3ZnKCkge1xyXG4gICAgICAgICAgICBpZiAoIShjbG9uZSBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBjbG9uZS5zZXRBdHRyaWJ1dGUoJ3htbG5zJywgJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyk7XHJcbiAgICAgICAgICAgIGlmICghKGNsb25lIGluc3RhbmNlb2YgU1ZHUmVjdEVsZW1lbnQpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBbJ3dpZHRoJywgJ2hlaWdodCddLmZvckVhY2goZnVuY3Rpb24gKGF0dHJpYnV0ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gY2xvbmUuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNsb25lLnN0eWxlLnNldFByb3BlcnR5KGF0dHJpYnV0ZSwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZW1iZWRGb250cyhub2RlKSB7XHJcbiAgICByZXR1cm4gZm9udEZhY2VzLnJlc29sdmVBbGwoKS50aGVuKGZ1bmN0aW9uIChjc3NUZXh0KSB7XHJcbiAgICAgICAgdmFyIHN0eWxlTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XHJcbiAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChzdHlsZU5vZGUpO1xyXG4gICAgICAgIHN0eWxlTm9kZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3NUZXh0KSk7XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBpbmxpbmVJbWFnZXMobm9kZSkge1xyXG4gICAgcmV0dXJuIGltYWdlcy5pbmxpbmVBbGwobm9kZSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBtYWtlU3ZnRGF0YVVyaShub2RlLCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5vZGUpXHJcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICBub2RlLnNldEF0dHJpYnV0ZSgneG1sbnMnLCAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCcpO1xyXG4gICAgICAgIHJldHVybiBuZXcgWE1MU2VyaWFsaXplcigpLnNlcmlhbGl6ZVRvU3RyaW5nKG5vZGUpO1xyXG4gICAgfSlcclxuICAgICAgICAudGhlbih1dGlsLmVzY2FwZVhodG1sKVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uICh4aHRtbCkge1xyXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpwcmVmZXItdGVtcGxhdGVcclxuICAgICAgICByZXR1cm4gKCc8Zm9yZWlnbk9iamVjdCB4PVwiMFwiIHk9XCIwXCIgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMTAwJVwiPicgK1xyXG4gICAgICAgICAgICB4aHRtbCArXHJcbiAgICAgICAgICAgICc8L2ZvcmVpZ25PYmplY3Q+Jyk7XHJcbiAgICB9KVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChmb3JlaWduT2JqZWN0KSB7XHJcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnByZWZlci10ZW1wbGF0ZVxyXG4gICAgICAgIHJldHVybiAoJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiJyArXHJcbiAgICAgICAgICAgIHdpZHRoICtcclxuICAgICAgICAgICAgJ1wiIGhlaWdodD1cIicgK1xyXG4gICAgICAgICAgICBoZWlnaHQgK1xyXG4gICAgICAgICAgICAnXCI+JyArXHJcbiAgICAgICAgICAgIGZvcmVpZ25PYmplY3QgK1xyXG4gICAgICAgICAgICAnPC9zdmc+Jyk7XHJcbiAgICB9KVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChzdmcpIHtcclxuICAgICAgICByZXR1cm4gJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCcgKyBzdmc7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBuZXdVdGlsKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBlc2NhcGU6IGVzY2FwZSxcclxuICAgICAgICBwYXJzZUV4dGVuc2lvbjogcGFyc2VFeHRlbnNpb24sXHJcbiAgICAgICAgbWltZVR5cGU6IG1pbWVUeXBlLFxyXG4gICAgICAgIGRhdGFBc1VybDogZGF0YUFzVXJsLFxyXG4gICAgICAgIGlzRGF0YVVybDogaXNEYXRhVXJsLFxyXG4gICAgICAgIGNhbnZhc1RvQmxvYjogY2FudmFzVG9CbG9iLFxyXG4gICAgICAgIHJlc29sdmVVcmw6IHJlc29sdmVVcmwsXHJcbiAgICAgICAgZ2V0QW5kRW5jb2RlOiBnZXRBbmRFbmNvZGUsXHJcbiAgICAgICAgdWlkOiB1aWQoKSxcclxuICAgICAgICBkZWxheTogZGVsYXksXHJcbiAgICAgICAgYXNBcnJheTogYXNBcnJheSxcclxuICAgICAgICBlc2NhcGVYaHRtbDogZXNjYXBlWGh0bWwsXHJcbiAgICAgICAgbWFrZUltYWdlOiBtYWtlSW1hZ2UsXHJcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxyXG4gICAgICAgIGhlaWdodDogaGVpZ2h0LFxyXG4gICAgfTtcclxuICAgIGZ1bmN0aW9uIG1pbWVzKCkge1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogT25seSBXT0ZGIGFuZCBFT1QgbWltZSB0eXBlcyBmb3IgZm9udHMgYXJlICdyZWFsJ1xyXG4gICAgICAgICAqIHNlZSBodHRwOi8vd3d3LmlhbmEub3JnL2Fzc2lnbm1lbnRzL21lZGlhLXR5cGVzL21lZGlhLXR5cGVzLnhodG1sXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdmFyIFdPRkYgPSAnYXBwbGljYXRpb24vZm9udC13b2ZmJztcclxuICAgICAgICB2YXIgSlBFRyA9ICdpbWFnZS9qcGVnJztcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB3b2ZmOiBXT0ZGLFxyXG4gICAgICAgICAgICB3b2ZmMjogV09GRixcclxuICAgICAgICAgICAgdHRmOiAnYXBwbGljYXRpb24vZm9udC10cnVldHlwZScsXHJcbiAgICAgICAgICAgIGVvdDogJ2FwcGxpY2F0aW9uL3ZuZC5tcy1mb250b2JqZWN0JyxcclxuICAgICAgICAgICAgcG5nOiAnaW1hZ2UvcG5nJyxcclxuICAgICAgICAgICAganBnOiBKUEVHLFxyXG4gICAgICAgICAgICBqcGVnOiBKUEVHLFxyXG4gICAgICAgICAgICBnaWY6ICdpbWFnZS9naWYnLFxyXG4gICAgICAgICAgICB0aWZmOiAnaW1hZ2UvdGlmZicsXHJcbiAgICAgICAgICAgIHN2ZzogJ2ltYWdlL3N2Zyt4bWwnLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwYXJzZUV4dGVuc2lvbih1cmwpIHtcclxuICAgICAgICB2YXIgbWF0Y2ggPSAvXFwuKFteXFwuXFwvXSo/KSQvZy5leGVjKHVybCk7XHJcbiAgICAgICAgaWYgKG1hdGNoKVxyXG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hbMV07XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBtaW1lVHlwZSh1cmwpIHtcclxuICAgICAgICB2YXIgZXh0ZW5zaW9uID0gcGFyc2VFeHRlbnNpb24odXJsKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIHJldHVybiBtaW1lcygpW2V4dGVuc2lvbl0gfHwgJyc7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpc0RhdGFVcmwodXJsKSB7XHJcbiAgICAgICAgcmV0dXJuIHVybC5zZWFyY2goL14oZGF0YTopLykgIT09IC0xO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gdG9CbG9iKGNhbnZhcykge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG4gICAgICAgICAgICB2YXIgYmluYXJ5U3RyaW5nID0gd2luZG93LmF0b2IoY2FudmFzLnRvRGF0YVVSTCgpLnNwbGl0KCcsJylbMV0pO1xyXG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gYmluYXJ5U3RyaW5nLmxlbmd0aDtcclxuICAgICAgICAgICAgdmFyIGJpbmFyeUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKTtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgYmluYXJ5QXJyYXlbaV0gPSBiaW5hcnlTdHJpbmcuY2hhckNvZGVBdChpKTtcclxuICAgICAgICAgICAgcmVzb2x2ZShuZXcgQmxvYihbYmluYXJ5QXJyYXldLCB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnaW1hZ2UvcG5nJyxcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY2FudmFzVG9CbG9iKGNhbnZhcykge1xyXG4gICAgICAgIGlmIChjYW52YXMudG9CbG9iKVxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy50b0Jsb2IocmVzb2x2ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0b0Jsb2IoY2FudmFzKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlc29sdmVVcmwodXJsLCBiYXNlVXJsKSB7XHJcbiAgICAgICAgdmFyIGRvYyA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgpO1xyXG4gICAgICAgIHZhciBiYXNlID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2Jhc2UnKTtcclxuICAgICAgICBkb2MuaGVhZC5hcHBlbmRDaGlsZChiYXNlKTtcclxuICAgICAgICB2YXIgYSA9IGRvYy5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgICAgZG9jLmJvZHkuYXBwZW5kQ2hpbGQoYSk7XHJcbiAgICAgICAgYmFzZS5ocmVmID0gYmFzZVVybDtcclxuICAgICAgICBhLmhyZWYgPSB1cmw7XHJcbiAgICAgICAgcmV0dXJuIGEuaHJlZjtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHVpZCgpIHtcclxuICAgICAgICB2YXIgaW5kZXggPSAwO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpwcmVmZXItdGVtcGxhdGVcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICByZXR1cm4gJ3UnICsgZm91clJhbmRvbUNoYXJzKCkgKyBpbmRleCsrO1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBmb3VyUmFuZG9tQ2hhcnMoKSB7XHJcbiAgICAgICAgICAgICAgICAvKiBzZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNjI0ODcyMi8yNTE5MzczICovXHJcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6aW5zZWN1cmUtcmFuZG9tXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKCcwMDAwJyArICgoTWF0aC5yYW5kb20oKSAqIE1hdGgucG93KDM2LCA0KSkgPDwgMCkudG9TdHJpbmcoMzYpKS5zbGljZSgtNCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gbWFrZUltYWdlKHVyaSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKGltYWdlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaW1hZ2Uub25lcnJvciA9IHJlamVjdDtcclxuICAgICAgICAgICAgaW1hZ2Uuc3JjID0gdXJpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZ2V0QW5kRW5jb2RlKHVybCkge1xyXG4gICAgICAgIHZhciBUSU1FT1VUID0gMzAwMDA7XHJcbiAgICAgICAgaWYgKGRvbXRvaW1hZ2UuaW1wbC5vcHRpb25zLmNhY2hlQnVzdCkge1xyXG4gICAgICAgICAgICAvLyBDYWNoZSBieXBhc3Mgc28gd2UgZG9udCBoYXZlIENPUlMgaXNzdWVzIHdpdGggY2FjaGVkIGltYWdlc1xyXG4gICAgICAgICAgICAvLyBTb3VyY2U6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9YTUxIdHRwUmVxdWVzdC9Vc2luZ19YTUxIdHRwUmVxdWVzdCNCeXBhc3NpbmdfdGhlX2NhY2hlXHJcbiAgICAgICAgICAgIHVybCArPSAoL1xcPy8udGVzdCh1cmwpID8gJyYnIDogJz8nKSArIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBkb25lO1xyXG4gICAgICAgICAgICByZXF1ZXN0Lm9udGltZW91dCA9IHRpbWVvdXQ7XHJcbiAgICAgICAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gJ2Jsb2InO1xyXG4gICAgICAgICAgICByZXF1ZXN0LnRpbWVvdXQgPSBUSU1FT1VUO1xyXG4gICAgICAgICAgICAvLyByZXF1ZXN0Lm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIC8vIHJlcXVlc3Quc2VuZCgpO1xyXG4gICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoJ2h0dHAnKSA9PT0gMCAmJlxyXG4gICAgICAgICAgICAgICAgdXJsLmluZGV4T2Yod2luZG93LmxvY2F0aW9uLm9yaWdpbikgPT09IC0xICYmXHJcbiAgICAgICAgICAgICAgICBkb210b2ltYWdlLmltcGwub3B0aW9ucy5jb3JzSW1nKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWV0aG9kID0gZG9tdG9pbWFnZS5pbXBsLm9wdGlvbnMuY29yc0ltZy5tZXRob2QgfHwgJ0dFVCc7XHJcbiAgICAgICAgICAgICAgICBtZXRob2QgPSBtZXRob2QudG9VcHBlckNhc2UobWV0aG9kKSA9PT0gJ1BPU1QnID8gJ1BPU1QnIDogJ0dFVCc7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVxVXJsID0gZG9tdG9pbWFnZS5pbXBsLm9wdGlvbnMuY29yc0ltZy51cmwgfHwgJyc7XHJcbiAgICAgICAgICAgICAgICByZXFVcmwgPSByZXFVcmwucmVwbGFjZSgnI3tjb3JzfScsIHVybCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGRvbXRvaW1hZ2UuaW1wbC5vcHRpb25zLmNvcnNJbWcuZGF0YSB8fCAnJztcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBmYWlsKCdjb3JzSW1nLmRhdGEgaXMgbm90IGF2YWlsYWJsZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKGRhdGFba2V5XSkgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFba2V5XSA9IGRhdGFba2V5XS5yZXBsYWNlKCcje2NvcnN9JywgdXJsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJlcXVlc3Qub3BlbihtZXRob2QsIHJlcVVybCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXNKc29uID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGVhZGVycyA9IGRvbXRvaW1hZ2UuaW1wbC5vcHRpb25zLmNvcnNJbWcuaGVhZGVycyB8fCB7fTtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoZWFkZXJzW2tleV0uaW5kZXhPZignYXBwbGljYXRpb24vanNvbicpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0pzb24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCBoZWFkZXJzW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0LnNlbmQoaXNKc29uID8gSlNPTi5zdHJpbmdpZnkoZGF0YSkgOiBkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlcXVlc3Qub3BlbignR0VUJywgdXJsLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHJlcXVlc3Quc2VuZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBwbGFjZWhvbGRlcjtcclxuICAgICAgICAgICAgaWYgKGRvbXRvaW1hZ2UuaW1wbC5vcHRpb25zLmltYWdlUGxhY2Vob2xkZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzcGxpdCA9IGRvbXRvaW1hZ2UuaW1wbC5vcHRpb25zLmltYWdlUGxhY2Vob2xkZXIuc3BsaXQoLywvKTtcclxuICAgICAgICAgICAgICAgIGlmIChzcGxpdCAmJiBzcGxpdFsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyID0gc3BsaXRbMV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gZG9uZSgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID49IDQwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwbGFjZWhvbGRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHBsYWNlaG9sZGVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpwcmVmZXItdGVtcGxhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbCgnY2Fubm90IGZldGNoIHJlc291cmNlOiAnICsgdXJsICsgJywgc3RhdHVzOiAnICsgcmVxdWVzdC5zdGF0dXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgZW5jb2RlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgICBlbmNvZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBlbmNvZGVyLnJlc3VsdC5zcGxpdCgvLC8pWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoY29udGVudCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgZW5jb2Rlci5yZWFkQXNEYXRhVVJMKHJlcXVlc3QucmVzcG9uc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHRpbWVvdXQoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGxhY2Vob2xkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHBsYWNlaG9sZGVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZhaWwoJ3RpbWVvdXQgb2YgJyArIFRJTUVPVVQgKyAnbXMgb2NjdXJlZCB3aGlsZSBmZXRjaGluZyByZXNvdXJjZTogJyArIHVybCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gZmFpbChtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgnJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGRhdGFBc1VybChjb250ZW50LCB0eXBlKSB7XHJcbiAgICAgICAgcmV0dXJuICdkYXRhOicgKyB0eXBlICsgJztiYXNlNjQsJyArIGNvbnRlbnQ7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBlc2NhcGUoc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oWy4qKz9eJHt9KCl8XFxbXFxdXFwvXFxcXF0pL2csICdcXFxcJDEnKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGRlbGF5KG1zKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhcmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGFyZyk7XHJcbiAgICAgICAgICAgICAgICB9LCBtcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBhc0FycmF5KGFycmF5TGlrZSkge1xyXG4gICAgICAgIHZhciBhcnJheSA9IFtdO1xyXG4gICAgICAgIHZhciBsZW5ndGggPSBhcnJheUxpa2UubGVuZ3RoO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICBhcnJheS5wdXNoKGFycmF5TGlrZVtpXSk7XHJcbiAgICAgICAgcmV0dXJuIGFycmF5O1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZXNjYXBlWGh0bWwoc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8jL2csICclMjMnKS5yZXBsYWNlKC9cXG4vZywgJyUwQScpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gd2lkdGgobm9kZSkge1xyXG4gICAgICAgIHZhciBsZWZ0Qm9yZGVyID0gcHgobm9kZSwgJ2JvcmRlci1sZWZ0LXdpZHRoJyk7XHJcbiAgICAgICAgdmFyIHJpZ2h0Qm9yZGVyID0gcHgobm9kZSwgJ2JvcmRlci1yaWdodC13aWR0aCcpO1xyXG4gICAgICAgIHJldHVybiBub2RlLnNjcm9sbFdpZHRoICsgbGVmdEJvcmRlciArIHJpZ2h0Qm9yZGVyO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaGVpZ2h0KG5vZGUpIHtcclxuICAgICAgICB2YXIgdG9wQm9yZGVyID0gcHgobm9kZSwgJ2JvcmRlci10b3Atd2lkdGgnKTtcclxuICAgICAgICB2YXIgYm90dG9tQm9yZGVyID0gcHgobm9kZSwgJ2JvcmRlci1ib3R0b20td2lkdGgnKTtcclxuICAgICAgICByZXR1cm4gbm9kZS5zY3JvbGxIZWlnaHQgKyB0b3BCb3JkZXIgKyBib3R0b21Cb3JkZXI7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBweChub2RlLCBzdHlsZVByb3BlcnR5KSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUobm9kZSkuZ2V0UHJvcGVydHlWYWx1ZShzdHlsZVByb3BlcnR5KTtcclxuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZS5yZXBsYWNlKCdweCcsICcnKSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gbmV3SW5saW5lcigpIHtcclxuICAgIHZhciBVUkxfUkVHRVggPSAvdXJsXFwoWydcIl0/KFteJ1wiXSs/KVsnXCJdP1xcKS9nO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBpbmxpbmVBbGw6IGlubGluZUFsbCxcclxuICAgICAgICBzaG91bGRQcm9jZXNzOiBzaG91bGRQcm9jZXNzLFxyXG4gICAgICAgIGltcGw6IHtcclxuICAgICAgICAgICAgcmVhZFVybHM6IHJlYWRVcmxzLFxyXG4gICAgICAgICAgICBpbmxpbmU6IGlubGluZSxcclxuICAgICAgICB9LFxyXG4gICAgfTtcclxuICAgIGZ1bmN0aW9uIHNob3VsZFByb2Nlc3Moc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHN0cmluZy5zZWFyY2goVVJMX1JFR0VYKSAhPT0gLTE7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZWFkVXJscyhzdHJpbmcpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHZhciBtYXRjaDtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgd2hpbGUgKChtYXRjaCA9IFVSTF9SRUdFWC5leGVjKHN0cmluZykpICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2gobWF0Y2hbMV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0LmZpbHRlcihmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhdXRpbC5pc0RhdGFVcmwodXJsKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGlubGluZShzdHIsIHVybCwgYmFzZVVybCwgZ2V0KSB7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1cmwpXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGJhc2VVcmwgPyB1dGlsLnJlc29sdmVVcmwodXJsLCBiYXNlVXJsKSA6IHVybDtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihnZXQgfHwgdXRpbC5nZXRBbmRFbmNvZGUpXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1dGlsLmRhdGFBc1VybChkYXRhLCB1dGlsLm1pbWVUeXBlKHVybCkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhVXJsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdHIucmVwbGFjZSh1cmxBc1JlZ2V4KHVybCksIFwiJDFcIiArIGRhdGFVcmwgKyBcIiQzXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGZ1bmN0aW9uIHVybEFzUmVnZXgodXJsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKCcodXJsXFxcXChbXFwnXCJdPykoJyArIHV0aWwuZXNjYXBlKHVybCkgKyAnKShbXFwnXCJdP1xcXFwpKScsICdnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaW5saW5lQWxsKHN0cmluZywgYmFzZVVybCwgZ2V0KSB7XHJcbiAgICAgICAgaWYgKG5vdGhpbmdUb0lubGluZSgpKVxyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHN0cmluZyk7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShzdHJpbmcpXHJcbiAgICAgICAgICAgIC50aGVuKHJlYWRVcmxzKVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodXJscykge1xyXG4gICAgICAgICAgICB2YXIgZG9uZSA9IFByb21pc2UucmVzb2x2ZShzdHJpbmcpO1xyXG4gICAgICAgICAgICB1cmxzLmZvckVhY2goZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgZG9uZSA9IGRvbmUudGhlbihmdW5jdGlvbiAoc3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlubGluZShzdHJpbmcsIHVybCwgYmFzZVVybCwgZ2V0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGRvbmU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZnVuY3Rpb24gbm90aGluZ1RvSW5saW5lKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gIXNob3VsZFByb2Nlc3Moc3RyaW5nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gbmV3Rm9udEZhY2VzKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICByZXNvbHZlQWxsOiByZXNvbHZlQWxsLFxyXG4gICAgICAgIGltcGw6IHtcclxuICAgICAgICAgICAgcmVhZEFsbDogcmVhZEFsbCxcclxuICAgICAgICB9LFxyXG4gICAgfTtcclxuICAgIGZ1bmN0aW9uIHJlc29sdmVBbGwoKSB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHJldHVybiByZWFkQWxsKGRvY3VtZW50KVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAod2ViRm9udHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHdlYkZvbnRzLm1hcChmdW5jdGlvbiAod2ViRm9udCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdlYkZvbnQucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGNzc1N0cmluZ3MpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNzc1N0cmluZ3Muam9pbignXFxuJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZWFkQWxsKCkge1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodXRpbC5hc0FycmF5KGRvY3VtZW50LnN0eWxlU2hlZXRzKSlcclxuICAgICAgICAgICAgLnRoZW4oZ2V0Q3NzUnVsZXMpXHJcbiAgICAgICAgICAgIC50aGVuKHNlbGVjdFdlYkZvbnRSdWxlcylcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJ1bGVzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBydWxlcy5tYXAobmV3V2ViRm9udCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZnVuY3Rpb24gc2VsZWN0V2ViRm9udFJ1bGVzKGNzc1J1bGVzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjc3NSdWxlc1xyXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAocnVsZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJ1bGUudHlwZSA9PT0gQ1NTUnVsZS5GT05UX0ZBQ0VfUlVMRTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHJ1bGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbmxpbmVyLnNob3VsZFByb2Nlc3MocnVsZS5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdzcmMnKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBnZXRDc3NSdWxlcyhzdHlsZVNoZWV0cykge1xyXG4gICAgICAgICAgICB2YXIgY3NzUnVsZXMgPSBbXTtcclxuICAgICAgICAgICAgc3R5bGVTaGVldHMuZm9yRWFjaChmdW5jdGlvbiAoc2hlZXQpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbC5hc0FycmF5KHNoZWV0LmNzc1J1bGVzIHx8IFtdKS5mb3JFYWNoKGNzc1J1bGVzLnB1c2guYmluZChjc3NSdWxlcykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3Igd2hpbGUgcmVhZGluZyBDU1MgcnVsZXMgZnJvbSAnICsgc2hlZXQuaHJlZiwgZS50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBjc3NSdWxlcztcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gbmV3V2ViRm9udCh3ZWJGb250UnVsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZSgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYmFzZVVybCA9ICh3ZWJGb250UnVsZS5wYXJlbnRTdHlsZVNoZWV0IHx8IHt9KS5ocmVmO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5saW5lci5pbmxpbmVBbGwod2ViRm9udFJ1bGUuY3NzVGV4dCwgYmFzZVVybCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc3JjOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdlYkZvbnRSdWxlLnN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3NyYycpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gbmV3SW1hZ2VzKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBpbmxpbmVBbGw6IGlubGluZUFsbCxcclxuICAgICAgICBpbXBsOiB7XHJcbiAgICAgICAgICAgIG5ld0ltYWdlOiBuZXdJbWFnZSxcclxuICAgICAgICB9LFxyXG4gICAgfTtcclxuICAgIGZ1bmN0aW9uIG5ld0ltYWdlKGVsZW1lbnQpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBpbmxpbmU6IGlubGluZSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGZ1bmN0aW9uIGlubGluZShnZXQpIHtcclxuICAgICAgICAgICAgaWYgKHV0aWwuaXNEYXRhVXJsKGVsZW1lbnQuc3JjKSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShlbGVtZW50LnNyYylcclxuICAgICAgICAgICAgICAgIC50aGVuKGdldCB8fCB1dGlsLmdldEFuZEVuY29kZSlcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdXRpbC5kYXRhQXNVcmwoZGF0YSwgdXRpbC5taW1lVHlwZShlbGVtZW50LnNyYykpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGFVcmwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5vbmxvYWQgPSByZXNvbHZlO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQub25lcnJvciA9IHJlamVjdDtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNyYyA9IGRhdGFVcmw7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaW5saW5lQWxsKG5vZGUpIHtcclxuICAgICAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgRWxlbWVudCkpXHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobm9kZSk7XHJcbiAgICAgICAgcmV0dXJuIGlubGluZUJhY2tncm91bmQobm9kZSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld0ltYWdlKG5vZGUpLmlubGluZSgpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwodXRpbC5hc0FycmF5KG5vZGUuY2hpbGROb2RlcykubWFwKGZ1bmN0aW9uIChjaGlsZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmxpbmVBbGwoY2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGZ1bmN0aW9uIGlubGluZUJhY2tncm91bmQobm9kZSkge1xyXG4gICAgICAgICAgICB2YXIgYmFja2dyb3VuZCA9IG5vZGUuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnYmFja2dyb3VuZCcpO1xyXG4gICAgICAgICAgICBpZiAoIWJhY2tncm91bmQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5vZGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gaW5saW5lclxyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgLmlubGluZUFsbChiYWNrZ3JvdW5kKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGlubGluZWQpIHtcclxuICAgICAgICAgICAgICAgIG5vZGUuc3R5bGUuc2V0UHJvcGVydHkoJ2JhY2tncm91bmQnLCBpbmxpbmVkLCBub2RlLnN0eWxlLmdldFByb3BlcnR5UHJpb3JpdHkoJ2JhY2tncm91bmQnKSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IGRvbXRvaW1hZ2UgYXMgZG9tVG9JbWFnZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZG9tLXRvLWltYWdlLmpzLm1hcFxuIl0sInNvdXJjZVJvb3QiOiIifQ==